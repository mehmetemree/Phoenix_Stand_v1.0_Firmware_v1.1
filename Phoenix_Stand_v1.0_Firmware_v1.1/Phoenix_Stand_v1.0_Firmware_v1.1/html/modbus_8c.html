<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: Template/modbus.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project<span id="projectnumber">&#160;Phoneix</span>
   </div>
   <div id="projectbrief">Temprature Sensor</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4b6197500eda84dde4f76faadd01614c.html">Template</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">modbus.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="modbus_8h_source.html">modbus.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="phoenix_config_8h_source.html">phoenixConfig.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ring_buffer_8h_source.html">ringbuffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="phoenix_8h_source.html">phoenix.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="systick_8h_source.html">systick.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="volt2temp_8h_source.html">volt2temp.h</a>&quot;</code><br />
<code>#include &quot;gd32f10x.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a121b51364ca932bf6b88e2110fcf88da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a121b51364ca932bf6b88e2110fcf88da">UART3_IRQHandler</a> (void)</td></tr>
<tr class="separator:a121b51364ca932bf6b88e2110fcf88da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94fd11121bfbd84981f1017b2549adb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a94fd11121bfbd84981f1017b2549adb2">MB_init</a> ()</td></tr>
<tr class="separator:a94fd11121bfbd84981f1017b2549adb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b5bd6346e175331fecc12648b0c5db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#ab0b5bd6346e175331fecc12648b0c5db">MB_Process</a> ()</td></tr>
<tr class="memdesc:ab0b5bd6346e175331fecc12648b0c5db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Recive and processing of incoming data.  <br /></td></tr>
<tr class="separator:ab0b5bd6346e175331fecc12648b0c5db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a209934952d3786fd39a0d263e19e98ee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a209934952d3786fd39a0d263e19e98ee">MB_Job</a> ()</td></tr>
<tr class="memdesc:a209934952d3786fd39a0d263e19e98ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parsing and processing of incoming data.  <br /></td></tr>
<tr class="separator:a209934952d3786fd39a0d263e19e98ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a528f4056d923bdd63a0548ccf2cdb9bd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a528f4056d923bdd63a0548ccf2cdb9bd">MB_WriteEnable</a> ()</td></tr>
<tr class="memdesc:a528f4056d923bdd63a0548ccf2cdb9bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modbus write enable function.  <br /></td></tr>
<tr class="separator:a528f4056d923bdd63a0548ccf2cdb9bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90271531b02b942d92048bae9265cc7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a90271531b02b942d92048bae9265cc7a">MB_ReadEnable</a> ()</td></tr>
<tr class="memdesc:a90271531b02b942d92048bae9265cc7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modbus read enable function.  <br /></td></tr>
<tr class="separator:a90271531b02b942d92048bae9265cc7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfb141f1dc189120ea0fea447d02eaed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#acfb141f1dc189120ea0fea447d02eaed">MB_SendDataArray</a> (unsigned char <a class="el" href="_l_c_d_8c.html#ab50d783982593ef993ea0b68f7ad8b80">str</a>[], unsigned char strl)</td></tr>
<tr class="memdesc:acfb141f1dc189120ea0fea447d02eaed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modbus send data.  <br /></td></tr>
<tr class="separator:acfb141f1dc189120ea0fea447d02eaed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4238c815069738b3063dfdb50a8fcb30"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a4238c815069738b3063dfdb50a8fcb30">MB_calculateCRC</a> (unsigned char frame[], unsigned char frameSize)</td></tr>
<tr class="memdesc:a4238c815069738b3063dfdb50a8fcb30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate crc for modbus data.  <br /></td></tr>
<tr class="separator:a4238c815069738b3063dfdb50a8fcb30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cb0cce8e3d7931c26876697a5c2a862"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a3cb0cce8e3d7931c26876697a5c2a862">MB_ReadHoldingRegister</a> (unsigned char slaveAddress, unsigned int functionCode, unsigned int Register, unsigned int numberofreg)</td></tr>
<tr class="memdesc:a3cb0cce8e3d7931c26876697a5c2a862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modbus readholdingregister function. It is used to read multiple data.  <br /></td></tr>
<tr class="separator:a3cb0cce8e3d7931c26876697a5c2a862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08f1e5a7e9d5aff92dbed74b62146d8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a08f1e5a7e9d5aff92dbed74b62146d8a">MB_Write</a> (unsigned char slaveAddress, unsigned int functionCode, unsigned int Register)</td></tr>
<tr class="separator:a08f1e5a7e9d5aff92dbed74b62146d8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accf66e6b1c2dd1016d05e9d6be2b0930"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#accf66e6b1c2dd1016d05e9d6be2b0930">MB_Exception</a> (unsigned int functionCode, unsigned int Exception_Code)</td></tr>
<tr class="memdesc:accf66e6b1c2dd1016d05e9d6be2b0930"><td class="mdescLeft">&#160;</td><td class="mdescRight">Case where the incoming data is incorrect.  <br /></td></tr>
<tr class="separator:accf66e6b1c2dd1016d05e9d6be2b0930"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8b3bb5462f93d2b2325f19a21dd7cff4"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a8b3bb5462f93d2b2325f19a21dd7cff4">MB_txFrame</a> [<a class="el" href="modbus_8h.html#af9b1b2ba12857a4bf11289dac8c5462d">FRAME_SIZE</a>]</td></tr>
<tr class="memdesc:a8b3bb5462f93d2b2325f19a21dd7cff4"><td class="mdescLeft">&#160;</td><td class="mdescRight">To collect the data to be sent in a single array.  <br /></td></tr>
<tr class="separator:a8b3bb5462f93d2b2325f19a21dd7cff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a501f38656bc928485d39ee57499d6b3f"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a501f38656bc928485d39ee57499d6b3f">MB_div_txFrame</a> [<a class="el" href="modbus_8h.html#a563aef9d4dfcbeff7f048cf5220a24bc">FRAME_DIV_SIZE</a>]</td></tr>
<tr class="separator:a501f38656bc928485d39ee57499d6b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba96fc946e64555f27e12dd877372c76"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#aba96fc946e64555f27e12dd877372c76">MB_receivedData</a></td></tr>
<tr class="memdesc:aba96fc946e64555f27e12dd877372c76"><td class="mdescLeft">&#160;</td><td class="mdescRight">To receive data from Uart.  <br /></td></tr>
<tr class="separator:aba96fc946e64555f27e12dd877372c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69f7385fc112f608ec506c8e0bcbdf87"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a69f7385fc112f608ec506c8e0bcbdf87">MB_rxBuffer</a> [16]</td></tr>
<tr class="memdesc:a69f7385fc112f608ec506c8e0bcbdf87"><td class="mdescLeft">&#160;</td><td class="mdescRight">To collect all received data in a single array.  <br /></td></tr>
<tr class="separator:a69f7385fc112f608ec506c8e0bcbdf87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae91e97842060e7cb68f2c0303d2db59e"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#ae91e97842060e7cb68f2c0303d2db59e">MB_rxBufferIndex</a> = 0</td></tr>
<tr class="memdesc:ae91e97842060e7cb68f2c0303d2db59e"><td class="mdescLeft">&#160;</td><td class="mdescRight">To sort the received data in an array.  <br /></td></tr>
<tr class="separator:ae91e97842060e7cb68f2c0303d2db59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a159fa62a054673baf3e3a13ba67b31c0"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a159fa62a054673baf3e3a13ba67b31c0">MB_noOfDataBytes</a></td></tr>
<tr class="memdesc:a159fa62a054673baf3e3a13ba67b31c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of bytes to receive.  <br /></td></tr>
<tr class="separator:a159fa62a054673baf3e3a13ba67b31c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c63f7a5ca365944ec35aace73fe7ea2"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a8c63f7a5ca365944ec35aace73fe7ea2">MB_receivedModbusFrame</a> [16]</td></tr>
<tr class="memdesc:a8c63f7a5ca365944ec35aace73fe7ea2"><td class="mdescLeft">&#160;</td><td class="mdescRight">To store the received data in a new array and process it.  <br /></td></tr>
<tr class="separator:a8c63f7a5ca365944ec35aace73fe7ea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79572656da7736179e006d2c698c4b4a"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a79572656da7736179e006d2c698c4b4a">MB_receivedModbusFrameIndex</a> = 0</td></tr>
<tr class="memdesc:a79572656da7736179e006d2c698c4b4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">//!To sort the received data in an array.  <br /></td></tr>
<tr class="separator:a79572656da7736179e006d2c698c4b4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06930879b9f29ba6f189b34747778a48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="modbus_8h.html#a05b2231099d607dd23535b8fcb090ded">MB_receive_Typedef</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a06930879b9f29ba6f189b34747778a48">MB_receiveStatus</a> = <a class="el" href="modbus_8h.html#a05b2231099d607dd23535b8fcb090deda3df40e7b3b0fa194effff51fa4d87dd0">searchForSlaveAddress</a></td></tr>
<tr class="separator:a06930879b9f29ba6f189b34747778a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66e045eccecea9116de7d56452d7846"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#af66e045eccecea9116de7d56452d7846">CalculatedCRC</a></td></tr>
<tr class="memdesc:af66e045eccecea9116de7d56452d7846"><td class="mdescLeft">&#160;</td><td class="mdescRight">To hold the calculated CRC value for Modbus data security.  <br /></td></tr>
<tr class="separator:af66e045eccecea9116de7d56452d7846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad582adea36749d7bf8ce7d73d83dcc6e"><td class="memItemLeft" align="right" valign="top">unsigned short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#ad582adea36749d7bf8ce7d73d83dcc6e">ReceivedCRC</a></td></tr>
<tr class="memdesc:ad582adea36749d7bf8ce7d73d83dcc6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">To hold the received CRC value for Modbus data security.  <br /></td></tr>
<tr class="separator:ad582adea36749d7bf8ce7d73d83dcc6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f706cbbe1186a58ab82b0f61451298b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structring__buffer__t.html">ring_buffer_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a1f706cbbe1186a58ab82b0f61451298b">ring_buffer</a></td></tr>
<tr class="separator:a1f706cbbe1186a58ab82b0f61451298b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b601d9dce7e54692f79b91250a4e5ad"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a7b601d9dce7e54692f79b91250a4e5ad">buf</a></td></tr>
<tr class="separator:a7b601d9dce7e54692f79b91250a4e5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cfbb269728dc4185236d28be58d9eab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a9cfbb269728dc4185236d28be58d9eab">cnt</a></td></tr>
<tr class="separator:a9cfbb269728dc4185236d28be58d9eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3a0076a9ced25cdc89b109cab4c15dd"><td class="memItemLeft" align="right" valign="top">double *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#ab3a0076a9ced25cdc89b109cab4c15dd">for_mb_temp</a></td></tr>
<tr class="separator:ab3a0076a9ced25cdc89b109cab4c15dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa254502199865d5843f707933dc141bc"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#aa254502199865d5843f707933dc141bc">array_mb_temp</a> [8]</td></tr>
<tr class="separator:aa254502199865d5843f707933dc141bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cbe1250fb0210112898a519d209b644"><td class="memItemLeft" align="right" valign="top">unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a8cbe1250fb0210112898a519d209b644">chr_mb_temp</a></td></tr>
<tr class="separator:a8cbe1250fb0210112898a519d209b644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a742204794ea328ba293fe59cec79b990"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#a742204794ea328ba293fe59cec79b990">m</a> =0</td></tr>
<tr class="separator:a742204794ea328ba293fe59cec79b990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff540880dc94293bc27a9950bd4bb83b"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="modbus_8c.html#aff540880dc94293bc27a9950bd4bb83b">ReadHoldingRegister</a></td></tr>
<tr class="separator:aff540880dc94293bc27a9950bd4bb83b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4238c815069738b3063dfdb50a8fcb30" name="a4238c815069738b3063dfdb50a8fcb30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4238c815069738b3063dfdb50a8fcb30">&#9670;&#160;</a></span>MB_calculateCRC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short MB_calculateCRC </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>frame</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>frameSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculate crc for modbus data. </p>
<dl class="section return"><dt>Returns</dt><dd>unsigned short crc value </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>char frame[]= The data frame whose CRC is to be calculated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>char frameSize= Frame size. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="accf66e6b1c2dd1016d05e9d6be2b0930" name="accf66e6b1c2dd1016d05e9d6be2b0930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accf66e6b1c2dd1016d05e9d6be2b0930">&#9670;&#160;</a></span>MB_Exception()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MB_Exception </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>functionCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>Exception_Code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Case where the incoming data is incorrect. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>int functionCode = Modbus function code. Read or write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>int Exception_Code = Modbus error exception code. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a94fd11121bfbd84981f1017b2549adb2" name="a94fd11121bfbd84981f1017b2549adb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94fd11121bfbd84981f1017b2549adb2">&#9670;&#160;</a></span>MB_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MB_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a209934952d3786fd39a0d263e19e98ee" name="a209934952d3786fd39a0d263e19e98ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209934952d3786fd39a0d263e19e98ee">&#9670;&#160;</a></span>MB_Job()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MB_Job </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parsing and processing of incoming data. </p>

</div>
</div>
<a id="ab0b5bd6346e175331fecc12648b0c5db" name="ab0b5bd6346e175331fecc12648b0c5db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0b5bd6346e175331fecc12648b0c5db">&#9670;&#160;</a></span>MB_Process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MB_Process </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Recive and processing of incoming data. </p>

</div>
</div>
<a id="a90271531b02b942d92048bae9265cc7a" name="a90271531b02b942d92048bae9265cc7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90271531b02b942d92048bae9265cc7a">&#9670;&#160;</a></span>MB_ReadEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MB_ReadEnable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modbus read enable function. </p>

</div>
</div>
<a id="a3cb0cce8e3d7931c26876697a5c2a862" name="a3cb0cce8e3d7931c26876697a5c2a862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cb0cce8e3d7931c26876697a5c2a862">&#9670;&#160;</a></span>MB_ReadHoldingRegister()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MB_ReadHoldingRegister </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>slaveAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>functionCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>Register</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modbus readholdingregister function. It is used to read multiple data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>char slaveAddress = Modbus device slave address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>int functionCode = Modbus function code. Read or write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>int Register = Modbus register value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>int count = Number of register. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acfb141f1dc189120ea0fea447d02eaed" name="acfb141f1dc189120ea0fea447d02eaed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfb141f1dc189120ea0fea447d02eaed">&#9670;&#160;</a></span>MB_SendDataArray()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MB_SendDataArray </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>str</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>strl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modbus send data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>char str[] = data to be sent . </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>char strl[] = data lenght. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a08f1e5a7e9d5aff92dbed74b62146d8a" name="a08f1e5a7e9d5aff92dbed74b62146d8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08f1e5a7e9d5aff92dbed74b62146d8a">&#9670;&#160;</a></span>MB_Write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MB_Write </td>
          <td>(</td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>slaveAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>functionCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>Register</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">struct</td><td><a class="el" href="struct_chargebox_m_b_system.html">ChargeboxMBSystem</a> Contains information for Modbus about Chargebox . </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">double*</td><td>for_mb_temp = Written temprature information as Celcius. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">double</td><td><a class="el" href="modbus_8c.html#aa254502199865d5843f707933dc141bc">array_mb_temp()</a>= Each temprature sensor data written an element in the array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unsigned</td><td>char *chr_mb_temp = 64-bit(double) data divide 8-bit. ! Each char_mb_temp include one array_mb_temp element as 8 element 1 byte. In o </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a528f4056d923bdd63a0548ccf2cdb9bd" name="a528f4056d923bdd63a0548ccf2cdb9bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a528f4056d923bdd63a0548ccf2cdb9bd">&#9670;&#160;</a></span>MB_WriteEnable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MB_WriteEnable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Modbus write enable function. </p>

</div>
</div>
<a id="a121b51364ca932bf6b88e2110fcf88da" name="a121b51364ca932bf6b88e2110fcf88da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a121b51364ca932bf6b88e2110fcf88da">&#9670;&#160;</a></span>UART3_IRQHandler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UART3_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aa254502199865d5843f707933dc141bc" name="aa254502199865d5843f707933dc141bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa254502199865d5843f707933dc141bc">&#9670;&#160;</a></span>array_mb_temp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double array_mb_temp[8]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7b601d9dce7e54692f79b91250a4e5ad" name="a7b601d9dce7e54692f79b91250a4e5ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b601d9dce7e54692f79b91250a4e5ad">&#9670;&#160;</a></span>buf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char buf</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af66e045eccecea9116de7d56452d7846" name="af66e045eccecea9116de7d56452d7846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af66e045eccecea9116de7d56452d7846">&#9670;&#160;</a></span>CalculatedCRC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short CalculatedCRC</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To hold the calculated CRC value for Modbus data security. </p>

</div>
</div>
<a id="a8cbe1250fb0210112898a519d209b644" name="a8cbe1250fb0210112898a519d209b644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cbe1250fb0210112898a519d209b644">&#9670;&#160;</a></span>chr_mb_temp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* chr_mb_temp</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9cfbb269728dc4185236d28be58d9eab" name="a9cfbb269728dc4185236d28be58d9eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cfbb269728dc4185236d28be58d9eab">&#9670;&#160;</a></span>cnt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cnt</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab3a0076a9ced25cdc89b109cab4c15dd" name="ab3a0076a9ced25cdc89b109cab4c15dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3a0076a9ced25cdc89b109cab4c15dd">&#9670;&#160;</a></span>for_mb_temp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double* for_mb_temp</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a742204794ea328ba293fe59cec79b990" name="a742204794ea328ba293fe59cec79b990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a742204794ea328ba293fe59cec79b990">&#9670;&#160;</a></span>m</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int m =0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a501f38656bc928485d39ee57499d6b3f" name="a501f38656bc928485d39ee57499d6b3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a501f38656bc928485d39ee57499d6b3f">&#9670;&#160;</a></span>MB_div_txFrame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char MB_div_txFrame[<a class="el" href="modbus_8h.html#a563aef9d4dfcbeff7f048cf5220a24bc">FRAME_DIV_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a159fa62a054673baf3e3a13ba67b31c0" name="a159fa62a054673baf3e3a13ba67b31c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a159fa62a054673baf3e3a13ba67b31c0">&#9670;&#160;</a></span>MB_noOfDataBytes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char MB_noOfDataBytes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of bytes to receive. </p>

</div>
</div>
<a id="aba96fc946e64555f27e12dd877372c76" name="aba96fc946e64555f27e12dd877372c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba96fc946e64555f27e12dd877372c76">&#9670;&#160;</a></span>MB_receivedData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char MB_receivedData</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To receive data from Uart. </p>

</div>
</div>
<a id="a8c63f7a5ca365944ec35aace73fe7ea2" name="a8c63f7a5ca365944ec35aace73fe7ea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c63f7a5ca365944ec35aace73fe7ea2">&#9670;&#160;</a></span>MB_receivedModbusFrame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char MB_receivedModbusFrame[16]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To store the received data in a new array and process it. </p>

</div>
</div>
<a id="a79572656da7736179e006d2c698c4b4a" name="a79572656da7736179e006d2c698c4b4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79572656da7736179e006d2c698c4b4a">&#9670;&#160;</a></span>MB_receivedModbusFrameIndex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char MB_receivedModbusFrameIndex = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>//!To sort the received data in an array. </p>

</div>
</div>
<a id="a06930879b9f29ba6f189b34747778a48" name="a06930879b9f29ba6f189b34747778a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06930879b9f29ba6f189b34747778a48">&#9670;&#160;</a></span>MB_receiveStatus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="modbus_8h.html#a05b2231099d607dd23535b8fcb090ded">MB_receive_Typedef</a> MB_receiveStatus = <a class="el" href="modbus_8h.html#a05b2231099d607dd23535b8fcb090deda3df40e7b3b0fa194effff51fa4d87dd0">searchForSlaveAddress</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a69f7385fc112f608ec506c8e0bcbdf87" name="a69f7385fc112f608ec506c8e0bcbdf87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69f7385fc112f608ec506c8e0bcbdf87">&#9670;&#160;</a></span>MB_rxBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char MB_rxBuffer[16]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To collect all received data in a single array. </p>

</div>
</div>
<a id="ae91e97842060e7cb68f2c0303d2db59e" name="ae91e97842060e7cb68f2c0303d2db59e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae91e97842060e7cb68f2c0303d2db59e">&#9670;&#160;</a></span>MB_rxBufferIndex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char MB_rxBufferIndex = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To sort the received data in an array. </p>

</div>
</div>
<a id="a8b3bb5462f93d2b2325f19a21dd7cff4" name="a8b3bb5462f93d2b2325f19a21dd7cff4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b3bb5462f93d2b2325f19a21dd7cff4">&#9670;&#160;</a></span>MB_txFrame</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char MB_txFrame[<a class="el" href="modbus_8h.html#af9b1b2ba12857a4bf11289dac8c5462d">FRAME_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To collect the data to be sent in a single array. </p>

</div>
</div>
<a id="aff540880dc94293bc27a9950bd4bb83b" name="aff540880dc94293bc27a9950bd4bb83b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff540880dc94293bc27a9950bd4bb83b">&#9670;&#160;</a></span>ReadHoldingRegister</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int ReadHoldingRegister</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad582adea36749d7bf8ce7d73d83dcc6e" name="ad582adea36749d7bf8ce7d73d83dcc6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad582adea36749d7bf8ce7d73d83dcc6e">&#9670;&#160;</a></span>ReceivedCRC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned short ReceivedCRC</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>To hold the received CRC value for Modbus data security. </p>

</div>
</div>
<a id="a1f706cbbe1186a58ab82b0f61451298b" name="a1f706cbbe1186a58ab82b0f61451298b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f706cbbe1186a58ab82b0f61451298b">&#9670;&#160;</a></span>ring_buffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structring__buffer__t.html">ring_buffer_t</a> ring_buffer</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
